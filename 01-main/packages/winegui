DEFVER=1
CODENAMES_SUPPORTED="bookworm trixie forky sid noble plucky questing"
get_github_releases "winegui/WineGUI" "latest"

local TARGET_CODENAME="${UPSTREAM_CODENAME}"

if [ "${ACTION}" != prettylist ]; then
    # Prefer a later released version but if not found then fallback to the latest OS release and known to install OK
    URL="$(grep -m 1 "browser_download_url.*${UPSTREAM_CODENAME}\.deb\"" "${CACHE_FILE}" | cut -d '"' -f 4)"
   

    if [ -z "${URL}" ]; then

        case "${UPSTREAM_CODENAME}" in
            questing)
                TARGET_CODENAME="plucky"
                ;;
            sid)
                TARGET_CODENAME="forky"
                ;;
        esac
        URL="$(grep -m 1 "browser_download_url.*${TARGET_CODENAME}\.deb\"" "${CACHE_FILE}" | cut -d '"' -f 4)"
        if [ -z "${URL}" ]; then
            fancy_message error "Failed to find a WineGUI .deb URL for codename ${UPSTREAM_CODENAME} in the cache file."
        fi
    fi
    VERSION_PUBLISHED=$(cut -d '-' -f 2 <<< "${URL//v/}")
fi
PRETTY_NAME="WineGUI"
WEBSITE="https://gitlab.melroy.org/melroy/winegui"
SUMMARY="A user-friendly WINE manager"
